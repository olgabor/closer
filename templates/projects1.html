{% extends 'layout.html' %}

{% block body %}

  <div class="row">
<div class="col-md-7 text-center"> 

  <div class="row d-flex flex-row bd-highlight mb-2" style=" background-color:; margin: 10px">

  <div class='p-2 bd-highlight text-center'> <h3> Add New Project  </h3>  </div> 
     <div class='p-2 bd-highlight'>  <svg data-toggle="modal"  data-target=# style='color:  #dc3545;' width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-plus-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                 </svg> 
             </div>
          </div>
        </div> 



        <div class="row">
        <div class="col-md-5" > 
  {% for project in projects %}
  
  <div class="card"  style="width: 30rem; height: auto; background-color: rgb(238, 226, 225); box-shadow: 0 0 0 2px white;  position: relative;
  overflow: hidden;" >
    <div class="card-body d-flex flex-direction-row justify-content-between align-items-center ">
      <div> 
      <p class="card-subtitle align-middle ">   {{project.title}}   </p>
      <p class="card-subtitle align-middle ">   {{project.description}}   </p>
    </div>

<div> 
      <p class="text-muted"> Add new item  </p> 
      <svg data-toggle="modal"  data-target=#{{project.title}} style='color:  #dc3545;' width="2.5em" height="2.5em" viewBox="0 0 16 16" class="bi bi-plus-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
      </svg>
    </div>

        <!-- Create Ticket Modal -->
        <div class="modal fade" id={{project.title }} tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle"> Add new item to your project <strong>  {{project.title }} {{project.id }} </strong> </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" style='opacity: 1;'>
                  <!-- Form to add new ticket -->
                  <form method="POST" action='/ticket/new'>
                      <div class="form-group">
                        <label for="exampleFormControlInput1">Name</label>
                        <input type="text" name="name" class="form-control" id="exampleFormControlInput1" placeholder="">
                      </div>
                      <div class="form-group">
                          <label for="exampleFormControlTextarea1">Description</label>
                          <textarea name="description" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                        </div>
                      <div class="form-group">
                        <label for="">Priority</label>
                        <select name="ticket_priority" class="form-control" id="exampleFormControlSelect1">
                          <option>Higher</option> 
                          <option>High</option>
                          <option>Medium</option>
                          <option>Low</option>
                        </select>
                      </div>
                      <div class="form-group">
                          <label for=""> Set Status</label>
                          <select name="ticket_status" class="form-control" id="exampleFormControlSelect1">
                            <option>ToDo</option>
                            <option>InProgress</option>
                            <option>Done</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="exampleFormControlInput1">Due Date</label>
                          <input name="due_date" type="date" class="form-control" id="date">
                          <input class="input" type="hidden" name="author_id" value="{{current_user.id}}">
                          <input class="input" type="hidden" name="project_id" value={{ project.id }}>
                          <input class="input" type="hidden" name="date_posted">
                        </div>
                      <button class="btn btn-info">Save</button>
                    </form>
              </div>
            </div>
          </div>
        </div>

      <div> <a href="/projects/{{project.id}}" class="btn btn-primary">Manage</a> 
       </div>
     
    </div>
  </div> 
<br>


{% endfor %}
</div>
</div> 
<div class="col-md-5 text-center" style="width: 30rem; height: auto; background-color: rgb(238, 226, 225); border: 1px solid black "  > 
  Add new project 
</div>

</div> 

</div> 
</div>
</div> 
{% endblock %}